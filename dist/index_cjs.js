"use strict";function _interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var mmvis=_interopDefault(require("mmvis"));function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var utils=createCommonjsModule(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:!0});var n={mainFrameRate:60,now:0,_pixelCtx:null,__emptyFunc:function(){},_devicePixelRatio:"undefined"!=typeof window?window.devicePixelRatio:1,_UID:0,getUID:function(){return this._UID++},createId:function(t){var e=t.charCodeAt(t.length-1);return 48<=e&&e<=57&&(t+="_"),t+n.getUID()},canvasSupport:function(){return!!document.createElement("canvas").getContext},initElement:function(t){return window.FlashCanvas&&FlashCanvas.initElement&&FlashCanvas.initElement(t),t},getCssOrderArr:function(t){var e,n,r,i;return"number"==typeof t?e=n=r=i=t:t instanceof Array?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=0,[e,n,r,i]},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!n||!n.getContextAttributes().stencil)}catch(t){return!1}},checkOpt:function(t){return t?t.context||(t.context={}):t={context:{}},t}};n._pixelCtx=n.initElement(e.$.createCanvas(1,1,"_pixelCanvas")).getContext("2d"),t.default=n}(e,mmvis)});unwrapExports(utils);var Matrix=createCommonjsModule(function(t,e){function l(t,e,n,r,i,o){this.a=null!=t?t:1,this.b=null!=e?e:0,this.c=null!=n?n:0,this.d=null!=r?r:1,this.tx=null!=i?i:0,this.ty=null!=o?o:0,this.array=null}var n;n=e,Object.defineProperty(n,"__esModule",{value:!0}),l.prototype={concat:function(t){var e=this.a,n=this.c,r=this.tx;return this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d,this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},concatTransform:function(t,e,n,r,i){var o=1,a=0;if(i%360){var s=i*Math.PI/180;o=Math.cos(s),a=Math.sin(s)}return this.concat(new l(o*n,a*n,-a*r,o*r,t,e)),this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;if(0<t)this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e;else{var a=Math.sin(Math.abs(t)),s=Math.cos(Math.abs(t));this.a=r*s+this.b*a,this.b=-r*a+this.b*s,this.c=i*s+this.d*a,this.d=-i*a+s*this.d,this.tx=s*o+a*this.ty,this.ty=s*this.ty-a*o}return this},scale:function(t,e){return this.a*=t,this.d*=e,this.tx*=t,this.ty*=e,this},translate:function(t,e){return this.tx+=t,this.ty+=e,this},identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},invert:function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},clone:function(){return new l(this.a,this.b,this.c,this.d,this.tx,this.ty)},toArray:function(t,e){if(0==arguments.length)return isNaN(this.a)||isNaN(this.b)||isNaN(this.c)||isNaN(this.d)||isNaN(this.tx)||isNaN(this.ty)?null:[this.a,this.b,this.c,this.d,this.tx,this.ty];this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0),n[8]=1,n},mulVector:function(t){var e=this.a,n=this.c,r=this.tx,i=this.b,o=this.d,a=this.ty,s=[0,0];return s[0]=t[0]*e+t[1]*n+r,s[1]=t[0]*i+t[1]*o+a,s}},n.default=l});unwrapExports(Matrix);var Point=createCommonjsModule(function(t,e){!function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var n,r,i=(n=a,(r=[{key:"toArray",value:function(){return[this.x,this.y]}}])&&e(n.prototype,r),a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),1==arguments.length&&"object"==o(arguments[0])){var n=arguments[0];if("x"in n&&"y"in n)this.x=1*n.x,this.y=1*n.y;else{var r=0;for(var i in n){if(0!=r){this.y=1*n[i];break}this.x=1*n[i],r++}}}else this.x=1*t,this.y=1*e}t.default=i}(e)});unwrapExports(Point);var Tween=createCommonjsModule(function(t,e){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}n.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:s.now();0<n.length;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]];i&&!1===i.update(t)&&(i._isPlaying=!1,e||delete this._tweens[n[r]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var r,s=new n;s.Group=n,s._nextId=0,s.nextId=function(){return s._nextId++},"undefined"==typeof window&&"undefined"!=typeof process?s.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?s.now=window.performance.now.bind(window.performance):void 0!==Date.now?s.now=Date.now:s.now=function(){return(new Date).getTime()},s.Tween=function(t,e){this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=s.Easing.Linear.None,this._interpolationFunction=s.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||s,this._id=s.nextId()},s.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(t,e){return this._valuesEnd=t,void 0!==e&&(this._duration=e),this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?s.now()+parseFloat(t):t:s.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying&&(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens()),this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,n,r;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||1<n?1:n,r=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[e]){var i=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,r):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?i+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[e]=i+(o-i)*r))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1!==n)return!0;if(0<this._repeat){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var a=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=a}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration);return!1}},s.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-s.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*s.Easing.Bounce.In(2*t):.5*s.Easing.Bounce.Out(2*t-1)+.5}}},s.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=s.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],r):1<e?o(t[n],t[n-1],n-r):o(t[i],t[n<i+1?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,o=s.Interpolation.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-e,r-a)*i(e,a)*t[a]*o(r,a);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),o=s.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),o(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):1<e?t[n]-(o(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):o(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=s.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(r=[1],function(t){var e=1;if(r[t])return r[t];for(var n=t;1<n;n--)e*=n;return r[t]=e}),CatmullRom:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}}},t.exports=s}),AnimationFrame=createCommonjsModule(function(t,e){!function(t,e,n,i){Object.defineProperty(t,"__esModule",{value:!0});var o=r(e),a=r(n);function r(t){return t&&t.__esModule?t:{default:t}}var s,l,u=0;if("undefined"!=typeof window){s=window.requestAnimationFrame,l=window.cancelAnimationFrame;for(var c=["ms","moz","webkit","o"],h=0;h<c.length&&!window.requestAnimationFrame;++h)s=window.requestAnimationFrame=window[c[h]+"RequestAnimationFrame"],l=window.cancelAnimationFrame=window[c[h]+"CancelAnimationFrame"]||window[c[h]+"CancelRequestAnimationFrame"]}s=s||function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-u)),r=setTimeout(function(){t(e+n)},n);return u=e+n,r},l=l||function(t){clearTimeout(t)};var f=[],p=null;function d(t){if(t)return f.push(t),p=p||s(function(){o.default.update();var t=f;for(f=[],p=null;0<t.length;)t.shift().task()})}function y(t){for(var e=!1,n=0,r=f.length;n<r;n++)f[n].id===t.id&&(e=!0,f.splice(n,1),n--,r--);return 0==f.length&&(l(p),p=null),e}t.default={registFrame:d,destroyFrame:y,registTween:function(t){var e=i._.extend({from:null,to:null,duration:500,onStart:function(){},onUpdate:function(){},onComplete:function(){},onStop:function(){},repeat:0,delay:0,easing:"Linear.None",desc:""},t);i.global.getAnimationEnabled()||(e.duration=0,e.delay=0);var n={},r="tween_"+a.default.getUID();if(e.id&&(r=r+"_"+e.id),e.from&&e.to){(n=new o.default.Tween(e.from).to(e.to,e.duration).onStart(function(){e.onStart(e.from)}).onUpdate(function(){e.onUpdate(e.from)}).onComplete(function(){y({id:r}),n._isCompleteed=!0,e.onComplete(e.from)}).onStop(function(){y({id:r}),n._isStoped=!0,e.onStop(e.from)}).repeat(e.repeat).delay(e.delay).easing(o.default.Easing[e.easing.split(".")[0]][e.easing.split(".")[1]])).id=r,n.start(),function t(){n._isCompleteed||n._isStoped?n=null:d({id:r,task:t,desc:e.desc,tween:n})}()}return n},destroyTween:function(t,e){t.stop()},Tween:o.default,taskList:f}}(e,Tween,utils,mmvis)});unwrapExports(AnimationFrame);var observe=createCommonjsModule(function(t,e){!function(t,h){function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.defineProperty;try{r({},"_",{value:"x"});var a=Object.defineProperties}catch(t){"__defineGetter__"in Object&&(r=function(t,e,n){return"value"in n&&(t[e]=n.value),"get"in n&&t.__defineGetter__(e,n.get),"set"in n&&t.__defineSetter__(e,n.set),t},a=function(t,e){for(var n in e)e.hasOwnProperty(n)&&r(t,n,e[n]);return t})}t.default=function s(e){var l=!0,u={},n={},r=["$watch","$model"],c={},i=r;function t(o,t){-1===h._.indexOf(r,o)&&(c[o]=t);var a=f(t);if(!(-1<h._.indexOf(i,o)))if("function"===a)i.push(o);else{var e=function(t){var e,n=c[o],r=n;if(!arguments.length)return!n||"object"!==a||n instanceof Array||n.$model||n.addColorStop||((n=s(n)).$watch=u.$watch,c[o]=n),n;var i=f(t);l||n!==t&&(!t||"object"!==i||t instanceof Array||t.addColorStop?n=t:e=(n=t.$model?t:s(t)).$model,c[o]=e||n,a!=i&&(a=i),u.$watch&&u.$watch.call(u,o,n,r))};n[o]={set:e,get:e,enumerable:!0}}}for(var o in e)t(o,e[o]);return u=a(u,n,i),h._.forEach(i,function(t){e[t]&&("function"==typeof e[t]?u[t]=function(){e[t].apply(this,arguments)}:u[t]=e[t])}),u.$model=c,u.hasOwnProperty=function(t){return t in u.$model},l=!1,u}}(e,mmvis)});unwrapExports(observe);var _const=createCommonjsModule(function(t,e){var n;n=e,Object.defineProperty(n,"__esModule",{value:!0}),n.VERSION=__VERSION__,n.PI_2=2*Math.PI,n.RAD_TO_DEG=180/Math.PI,n.DEG_TO_RAD=Math.PI/180,n.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},n.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},n.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3},n.SCALE_MODES={LINEAR:0,NEAREST:1},n.CONTEXT_DEFAULT={width:0,height:0,x:0,y:0,scaleX:1,scaleY:1,scaleOrigin:{x:0,y:0},rotation:0,rotateOrigin:{x:0,y:0},visible:!0,globalAlpha:1},n.SHAPE_CONTEXT_DEFAULT={cursor:"default",fillAlpha:1,fillStyle:null,lineCap:null,lineJoin:null,miterLimit:null,strokeAlpha:1,strokeStyle:null,lineType:"solid",lineWidth:null},n.TRANSFORM_PROPS=["x","y","scaleX","scaleY","rotation","scaleOrigin","rotateOrigin"],n.STYLE_PROPS=["lineWidth","strokeAlpha","strokeStyle","fillStyle","fillAlpha","globalAlpha"]});unwrapExports(_const);var InsideLine=createCommonjsModule(function(t,e){!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,e,n,r){for(var i=t.shape.points,o=t.lineWidth,a=!1,s=0;s<i.length&&!(a=l(i.slice(s,s+4),e,n,o));++s)s+=1;return a};var l=function(t,e,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],l=Math.max(r,3),u=0,c=i;return!(o+l<n&&s+l<n||n<o-l&&n<s-l||i+l<e&&a+l<e||e<i-l&&e<a-l)&&(i===a?Math.abs(e-i)<=l/2:((u=(o-s)/(i-a))*e-n+(c=(i*s-a*o)/(i-a)))*(u*e-n+c)/(u*u+1)<=l/2*l/2)}}(e)});unwrapExports(InsideLine);var settings=createCommonjsModule(function(t,e){var n;n=e,Object.defineProperty(n,"__esModule",{value:!0}),n.default={RESOLUTION:"undefined"!=typeof window?window.devicePixelRatio:1,TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,FILTER_RESOLUTION:1,SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@(.+)x/,RENDER_OPTIONS:{view:null,antialias:!0,forceFXAA:!1,autoResize:!1,transparent:!0,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION:"mediump"}});unwrapExports(settings);var DisplayObject=createCommonjsModule(function(t,e){!function(t,c,e,n,r,i,o,a,s,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=b(e),h=b(n),f=b(r),p=b(i),d=b(o),y=b(s),v=b(l);function b(t){return t&&t.__esModule?t:{default:t}}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O,S,P=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(k,c.event.Dispatcher),O=k,(S=[{key:"init",value:function(){}},{key:"clipTo",value:function(t){(this.clip=t).isClip=!0}},{key:"_createContext",value:function(t){var i=this,e=t.context||{},n={width:e.width||0,height:e.height||0,x:e.x||0,y:e.y||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1,scaleOrigin:e.scaleOrigin||{x:0,y:0},rotation:e.rotation||0,rotateOrigin:e.rotateOrigin||{x:0,y:0},visible:e.visible||!0,globalAlpha:e.globalAlpha||1};return c._.extend(!0,n,t.context),i._notWatch=!1,i._noHeart=!1,n.$watch=function(t,e,n){var r=i;r.context&&("globalGalpha"==t&&(r._globalAlphaChange=!0),-1<c._.indexOf(a.TRANSFORM_PROPS,t)&&(r._updateTransform(),r._transformChange=!0),r._notWatch||(r.$watch&&(r._notWatch=!0,r.$watch(t,e,n),r._notWatch=!1),r._noHeart||r.heartBeat({convertType:"context",shape:r,name:t,value:e,preValue:n})))},(0,d.default)(n)}},{key:"track",value:function(t){-1==c._.indexOf(this._trackList,t)&&this._trackList.push(t)}},{key:"untrack",value:function(t){var e=c._.indexOf(this._trackList,t);-1<e&&this._trackList.splice(e,1)}},{key:"clone",value:function(t){var e,n={id:this.id,context:c._.clone(this.context.$model),isClone:!0};return(e="text"==this.type?new this.constructor(this.text,n):new this.constructor(n)).id=n.id,this.children&&(e.children=this.children),this.graphics&&(e.graphics=this.graphics.clone()),t||(e.id=f.default.createId(e.type)),e}},{key:"heartBeat",value:function(t){var e=this.getStage();e&&(this._heartBeatNum++,e.heartBeat&&e.heartBeat(t))}},{key:"getCurrentWidth",value:function(){return Math.abs(this.context.$model.width*this.context.$model.scaleX)}},{key:"getCurrentHeight",value:function(){return Math.abs(this.context.$model.height*this.context.$model.scaleY)}},{key:"getStage",value:function(){if(this.stage)return this.stage;var t=this;if("stage"!=t.type){for(;t.parent&&"stage"!=(t=t.parent).type;);if("stage"!==t.type)return!1}return this.stage=t}},{key:"localToGlobal",value:function(t,e){t=t||new h.default(0,0);var n=this.getConcatenatedMatrix(e);if(null==n)return(0,h.default)(0,0);var r=new u.default(1,0,0,1,t.x,t.y);return r.concat(n),new h.default(r.tx,r.ty)}},{key:"globalToLocal",value:function(t,e){if(t=t||new h.default(0,0),"stage"==this.type)return t;var n=this.getConcatenatedMatrix(e);if(null==n)return new h.default(0,0);n.invert();var r=new u.default(1,0,0,1,t.x,t.y);return r.concat(n),new h.default(r.tx,r.ty)}},{key:"localToTarget",value:function(t,e){var n=localToGlobal(t);return e.globalToLocal(n)}},{key:"getConcatenatedMatrix",value:function(t){for(var e=new u.default,n=this;null!=n;n=n.parent)if(e.concat(n._transform),!n.parent||t&&n.parent&&n.parent==t||n.parent&&"stage"==n.parent.type)return e;return e}},{key:"setEventEnable",value:function(t){return!!c._.isBoolean(t)&&(this._eventEnabled=t,!0)}},{key:"getIndex",value:function(){if(this.parent)return c._.indexOf(this.parent.children,this)}},{key:"toBack",value:function(t){if(this.parent){var e=this.getIndex(),n=0;if(c._.isNumber(t)){if(0==t)return;n=e-t}var r=this.parent.children.splice(e,1)[0];n<0&&(n=0),this.parent.addChildAt(r,n)}}},{key:"toFront",value:function(t){if(this.parent){var e=this.getIndex(),n=this.parent.children.length,r=n;if(c._.isNumber(t)){if(0==t)return;r=e+t+1}var i=this.parent.children.splice(e,1)[0];n<r&&(r=n),this.parent.addChildAt(i,r-1)}}},{key:"_updateTransform",value:function(){var t=new u.default;t.identity();var e=this.context;if(1!==e.scaleX||1!==e.scaleY){var n=new h.default(e.scaleOrigin);t.translate(-n.x,-n.y),t.scale(e.scaleX,e.scaleY),t.translate(n.x,n.y)}var r=e.rotation;if(r&&(n=new h.default(e.rotateOrigin),t.translate(-n.x,-n.y),t.rotate(r%360*Math.PI/180),t.translate(n.x,n.y)),this.xyToInt&&!this.moveing){var i=parseInt(e.x),o=parseInt(e.y);parseInt(e.lineWidth,10)%2==1&&e.strokeStyle&&(i+=.5,o+=.5)}else i=e.x,o=e.y;return 0==i&&0==o||t.translate(i,o),this._transform=t}},{key:"setWorldTransform",value:function(){var t=new u.default;return t.concat(this._transform),this.parent&&t.concat(this.parent.worldTransform),this.worldTransform=t,this.worldTransform}},{key:"getChildInPoint",value:function(t){var e=!1,n=t.x,r=t.y;if(this.worldTransform){var i=this.worldTransform.clone().invert(),o=[n*v.default.RESOLUTION,r*v.default.RESOLUTION];n=(o=i.mulVector(o))[0],r=o[1]}if(this.graphics&&(e=this.containsPoint({x:n,y:r})),"text"!=this.type)return e;var a=this.getRect();return!(!a.width||!a.height)&&(e=n>=a.x&&n<=a.x+a.width&&(0<=a.height&&r>=a.y&&r<=a.y+a.height||a.height<0&&r<=a.y&&r>=a.y+a.height))}},{key:"containsPoint",value:function(t){for(var e=!1,n=0;n<this.graphics.graphicsData.length;++n){var r=this.graphics.graphicsData[n];if(r.shape){if(r.hasFill()&&r.shape.contains(t.x,t.y)&&(e=!0))break;if(r.hasLine()&&r.shape.points&&(e=(0,y.default)(r,t.x,t.y)))break}}return e}},{key:"animate",value:function(t,e,n){if(n=n||this.context){var r=t,i=null;for(var o in r)c._.isObject(r[o])?this.animate(r[o],c._.extend({},e),n[o]):isNaN(r[o])&&""!==r[o]&&null!==r[o]?(n[o]=r[o],delete r[o]):(i=i||{})[o]=n[o];if(i){(e=e||{}).from=i,e.to=r;var a,s=this,l=function(){};e.onUpdate&&(l=e.onUpdate),e.onUpdate=function(t){if(!n&&a)return p.default.destroyTween(a),void(a=null);for(var e in t)n[e]=t[e];l.apply(s,[t])};var u=function(){};return e.onComplete&&(u=e.onComplete),e.onComplete=function(t){u.apply(s,arguments),s._removeTween(a)},e.onStop=function(){s._removeTween(a)},e.desc="tweenType:DisplayObject.animate__id:"+this.id+"__objectType:"+this.type,a=p.default.registTween(e),this._tweens.push(a),a}}}},{key:"_removeTween",value:function(t){for(var e=0;e<this._tweens.length;e++)if(t==this._tweens[e]){this._tweens.splice(e,1);break}}},{key:"removeAnimate",value:function(t){t.stop(),this._removeTween(t)}},{key:"cleanAnimates",value:function(){this._cleanAnimates()}},{key:"_cleanAnimates",value:function(){for(;this._tweens.length;)this._tweens.shift().stop()}},{key:"remove",value:function(){this.parent&&(this.parent.removeChild(this),this.parent=null)}},{key:"destroy",value:function(){this._destroy()}},{key:"_destroy",value:function(){this.remove(),this.fire("destroy"),this.context=null,delete this.context}}])&&g(O.prototype,S),k);function k(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,k),(e=function(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?w(t):e}(this,m(k).call(this,t)))._transform=null,e.worldTransform=null,e._transformChange=!1,e._heartBeatNum=0,e.stage=null,e.parent=null,e.xyToInt=!("xyToInt"in t)||t.xyToInt,e.moveing=!1,e.clip=null,e.context=e._createContext(t),e.type=t.type||"DisplayObject",e.id=t.id||f.default.createId(e.type),e._trackList=[],e.init.apply(w(e),arguments),e._updateTransform(),e._tweens=[];var n=w(e);return e.on("destroy",function(){n.cleanAnimates()}),e}t.default=P}(e,mmvis,Matrix,Point,utils,AnimationFrame,observe,_const,InsideLine,settings)});unwrapExports(DisplayObject);var DisplayObjectContainer=createCommonjsModule(function(t,e){!function(t,r,e){var n;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,((n=e)&&n.__esModule?n:{default:n}).default),u=f,(c=[{key:"addChild",value:function(t,e){if(t)return-1!=this.getChildIndex(t)?t.parent=this:(t.parent&&t.parent.removeChild(t),void 0===e&&(e=this.children.length),this.children.splice(e,0,t),(t.parent=this).heartBeat&&this.heartBeat({convertType:"children",target:t,src:this}),this._afterAddChild&&this._afterAddChild(t)),t}},{key:"addChildAt",value:function(t,e){return this.addChild(t,e)}},{key:"removeChild",value:function(t){return this.removeChildAt(r._.indexOf(this.children,t))}},{key:"removeChildAt",value:function(t){if(t<0||t>this.children.length-1)return!1;var e=this.children[t];return null!=e&&(e.parent=null),this.children.splice(t,1),this.heartBeat&&this.heartBeat({convertType:"children",target:e,src:this}),this._afterDelChild&&this._afterDelChild(e,t),e}},{key:"removeChildById",value:function(t){for(var e=0,n=this.children.length;e<n;e++)if(this.children[e].id==t)return this.removeChildAt(e);return!1}},{key:"removeAllChildren",value:function(){for(;0<this.children.length;)this.removeChildAt(0)}},{key:"destroy",value:function(){for(var t=0,e=this.children.length;t<e;t++)this.getChildAt(t).destroy(),t--,e--;this._destroy()}},{key:"cleanAnimates",value:function(){for(var t=0,e=this.children.length;t<e;t++)this.getChildAt(t).cleanAnimates();this._cleanAnimates()}},{key:"getChildById",value:function(t,e){if(e)return null;for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].id==t)return this.children[n];return null}},{key:"getChildAt",value:function(t){return t<0||t>this.children.length-1?null:this.children[t]}},{key:"getChildIndex",value:function(t){return r._.indexOf(this.children,t)}},{key:"setChildIndex",value:function(t,e){if(t.parent==this){var n=r._.indexOf(this.children,t);e!=n&&(this.children.splice(n,1),this.children.splice(e,0,t))}}},{key:"getNumChildren",value:function(){return this.children.length}},{key:"getObjectsUnderPoint",value:function(t,e){for(var n=[],r=this.children.length-1;0<=r;r--){var i=this.children[r];if(null!=i&&i.context.$model.visible)if(i instanceof f){if(!i._eventEnabled)continue;if(i.mouseChildren&&0<i.getNumChildren()){var o=i.getObjectsUnderPoint(t);0<o.length&&(n=n.concat(o))}}else{if(!i._eventEnabled&&!i.dragEnabled)continue;if(i.getChildInPoint(t)&&(n.push(i),null!=e&&!isNaN(e)&&n.length==e))return n}}return n}}])&&o(u.prototype,c),f);function f(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(e=a(this,s(f).call(this,t))).children=[],e.mouseChildren=[],e._eventEnabled=!0,e}t.default=h}(e,mmvis,DisplayObject)});unwrapExports(DisplayObjectContainer);var Stage=createCommonjsModule(function(t,e){!function(t,e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(e),i=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h,f,p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,r.default),h=d,(f=[{key:"initStage",value:function(t,e,n){this.canvas=t;var r=this.context;r.width=e,r.height=n,r.scaleX=i.default._devicePixelRatio,r.scaleY=i.default._devicePixelRatio,this._isReady=!0}},{key:"heartBeat",value:function(t){this._isReady&&((t=t||{}).stage=this).parent&&this.parent.heartBeat(t)}}])&&s(h.prototype,f),d);function d(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),t.type="stage",(e=l(this,u(d).call(this,t))).canvas=null,e.ctx=null,e.stageRending=!1,e._isReady=!1,e}t.default=p}(e,DisplayObjectContainer,utils)});unwrapExports(Stage);var SystemRenderer=createCommonjsModule(function(t,e){!function(t,i,e,n,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(e),s=u(n),l=u(r);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h,f,p=(h=d,(f=[{key:"startEnter",value:function(){var t=this;t.requestAid||(t.requestAid=s.default.registFrame({id:"enterFrame",task:function(){t.enterFrame.apply(t)}}))}},{key:"enterFrame",value:function(){var t=this;t.requestAid=null,l.default.now=(new Date).getTime(),t._heartBeat&&(this.app.children.length&&t.render(this.app),t._heartBeat=!1,t._preRenderTime=(new Date).getTime())}},{key:"_convertCanvax",value:function(e){o._.each(this.app.children,function(t){t.context[e.name]=e.value})}},{key:"heartBeat",value:function(t){var n=this;if(t){if("context"==t.convertType){var e=t.stage,r=t.shape;if(t.name,t.value,t.preValue,"canvax"==r.type)n._convertCanvax(t);else if(n.app.convertStages[e.id]||(n.app.convertStages[e.id]={stage:e,convertShapes:{}}),r){if(n.app.convertStages[e.id].convertShapes[r.id])return;n.app.convertStages[e.id].convertShapes[r.id]={shape:r,convertType:t.convertType}}}if("children"==t.convertType){var i=t.target;!(e=t.src.getStage())&&"stage"!=i.type||(e=e||i,n.app.convertStages[e.id]||(n.app.convertStages[e.id]={stage:e,convertShapes:{}}))}t.convertType||(e=t.stage,n.app.convertStages[e.id]||(n.app.convertStages[e.id]={stage:e,convertShapes:{}}))}else o._.each(n.app.children,function(t,e){n.app.convertStages[t.id]={stage:t,convertShapes:{}}});n._heartBeat?n._heartBeat=!0:(n._heartBeat=!0,n.startEnter())}}])&&c(h.prototype,f),d);function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.RENDERER_TYPE.UNKNOWN,e=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),this.type=t,this.app=e,n)for(var r in a.default.RENDER_OPTIONS)void 0===n[r]&&(n[r]=a.default.RENDER_OPTIONS[r]);else n=a.default.RENDER_OPTIONS;this.options=n,this.requestAid=null,this._heartBeat=!1,this._preRenderTime=0}t.default=p}(e,_const,settings,AnimationFrame,utils,mmvis)});unwrapExports(SystemRenderer);var GraphicsRenderer=createCommonjsModule(function(t,e){!function(t,S){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i=(n=o,(r=[{key:"render",value:function(t,e,n,r){this.renderer;for(var i=t.graphics.graphicsData,o=e.ctx,a=0;a<i.length;a++){var s=i[a],l=s.shape,u=s.fillStyle,c=s.strokeStyle,h=s.hasFill()&&s.fillAlpha&&!r,f=s.hasLine()&&s.strokeAlpha&&!r;if(o.lineWidth=s.lineWidth,s.type===S.SHAPES.POLY)o.beginPath(),this.renderPolygon(l.points,l.closed,o,r),h&&(o.globalAlpha=s.fillAlpha*n,o.fillStyle=u,o.fill()),f&&(o.globalAlpha=s.strokeAlpha*n,o.strokeStyle=c,o.stroke());else if(s.type===S.SHAPES.RECT)r&&o.rect(l.x,l.y,l.width,l.height),h&&(o.globalAlpha=s.fillAlpha*n,o.fillStyle=u,o.fillRect(l.x,l.y,l.width,l.height)),f&&(o.globalAlpha=s.strokeAlpha*n,o.strokeStyle=c,o.strokeRect(l.x,l.y,l.width,l.height));else if(s.type===S.SHAPES.CIRC)o.beginPath(),o.arc(l.x,l.y,l.radius,0,2*Math.PI),o.closePath(),h&&(o.globalAlpha=s.fillAlpha*n,o.fillStyle=u,o.fill()),f&&(o.globalAlpha=s.strokeAlpha*n,o.strokeStyle=c,o.stroke());else if(s.type===S.SHAPES.ELIP){var p=2*l.width,d=2*l.height,y=l.x-p/2,v=l.y-d/2;o.beginPath();var b=.5522848,_=p/2*b,g=d/2*b,m=y+p,w=v+d,x=y+p/2,O=v+d/2;o.moveTo(y,O),o.bezierCurveTo(y,O-g,x-_,v,x,v),o.bezierCurveTo(x+_,v,m,O-g,m,O),o.bezierCurveTo(m,O+g,x+_,w,x,w),o.bezierCurveTo(x-_,w,y,O+g,y,O),o.closePath(),h&&(o.globalAlpha=s.fillAlpha*n,o.fillStyle=u,o.fill()),f&&(o.globalAlpha=s.strokeAlpha*n,o.strokeStyle=c,o.stroke())}}}},{key:"renderPolygon",value:function(t,e,n,r){n.moveTo(t[0],t[1]);for(var i=1;i<t.length/2;++i)n.lineTo(t[2*i],t[2*i+1]);(e||r)&&n.closePath()}}])&&e(n.prototype,r),o);function o(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.renderer=t}t.default=i}(e,_const)});unwrapExports(GraphicsRenderer);var CanvasRenderer=createCommonjsModule(function(t,e){!function(t,e,r,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(e),a=s(n);function s(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p,d,y=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,o.default),p=v,(d=[{key:"render",value:function(t){var e=this;e.app=t,i._.each(i._.values(t.convertStages),function(t){e.renderStage(t.stage)}),t.convertStages={}}},{key:"renderStage",value:function(t){t.ctx||(t.ctx=t.canvas.getContext("2d")),t.stageRending=!0,t.setWorldTransform(),this._clear(t),this._render(t,t,t.context.globalAlpha),t.stageRending=!1}},{key:"_render",value:function(t,e,n){var r=t.ctx;if(r){var i=e.context.$model;if(e.worldTransform||e.fire("render"),(!e.worldTransform||e._transformChange||e.parent&&e.parent._transformChange)&&(e.setWorldTransform(),e.fire("transform"),e._transformChange=!0),n*=i.globalAlpha,i.visible&&!e.isClip){var o=e.worldTransform.toArray();if(o){r.setTransform.apply(r,o);var a=!1;if(e.clip&&e.clip.graphics){var s=e.clip;r.save(),a=!0,s.worldTransform&&!s._transformChange&&!s.parent._transformChange||(s.setWorldTransform(),s._transformChange=!0),r.setTransform.apply(r,s.worldTransform.toArray()),s.graphics.graphicsData.length||s._draw(s.graphics),this.CGR.render(s,t,n,a),s._transformChange=!1,r.clip()}if(e.graphics&&(e.graphics.graphicsData.length||e._draw(e.graphics),n&&(r.setLineDash([]),i.lineType&&"solid"!=i.lineType&&r.setLineDash(i.lineDash),this.CGR.render(e,t,n))),"text"==e.type&&e.render(r,n),e.children)for(var l=0,u=e.children.length;l<u;l++)this._render(t,e.children[l],n);e._transformChange=!1,a&&r.restore()}}}}},{key:"_clear",value:function(t){var e=t.ctx;e.setTransform.apply(e,t.worldTransform.toArray()),e.clearRect(0,0,this.app.width,this.app.height)}}])&&u(p.prototype,d),v);function v(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),(e=function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?h(t):e}(this,c(v).call(this,r.RENDERER_TYPE.CANVAS,t,n))).CGR=new a.default(h(e)),e}t.default=y}(e,SystemRenderer,_const,GraphicsRenderer,mmvis)});unwrapExports(CanvasRenderer);var autoRenderer=createCommonjsModule(function(t,e){!function(t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,e){return new r.default(t,e)};var n,r=(n=e)&&n.__esModule?n:{default:n}}(e,CanvasRenderer)});unwrapExports(autoRenderer);var Application=createCommonjsModule(function(t,e){!function(t,e,n,r,i,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=f(e),l=f(n),u=f(r),c=f(i),h=f(o);function f(t){return t&&t.__esModule?t:{default:t}}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _,g,m=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(w,l.default),_=w,(g=[{key:"registEvent",value:function(t){return this.event=new a.event.Handler(this,t),this.event.init(),this.event}},{key:"destroy",value:function(){for(var t=0,e=this.children.length;t<e;t++){var n=this.children[t];n.destroy(),n.canvas=null,n.ctx=null,n=null,t--,e--}try{this.view.removeChild(this.stageView),this.view.removeChild(this.domView),this.el.removeChild(this.view)}catch(t){}this.el.innerHTML="",this.event=null,this._bufferStage=null}},{key:"resize",value:function(t){this.width=parseInt(t&&"width"in t||this.el.offsetWidth,10),this.height=parseInt(t&&"height"in t||this.el.offsetHeight,10),this.viewOffset=a.$.offset(this.view),this.context.$model.width=this.width,this.context.$model.height=this.height;var n=this;a._.each(this.children,function(t,e){t.context.$model.width=n.width,t.context.$model.height=n.height,function(t){t.style.width=n.width+"px",t.style.height=n.height+"px",t.setAttribute("width",n.width*s.default._devicePixelRatio),t.setAttribute("height",n.height*s.default._devicePixelRatio)}(t.canvas)}),this.stageView.style.width=this.width+"px",this.stageView.style.height=this.height+"px",this.domView.style.width=this.width+"px",this.domView.style.height=this.height+"px",this.heartBeat()}},{key:"getHoverStage",value:function(){return this._bufferStage}},{key:"_creatHoverStage",value:function(){this._bufferStage=new u.default({id:"activCanvas"+(new Date).getTime(),context:{width:this.context.$model.width,height:this.context.$model.height}}),this._bufferStage._eventEnabled=!1,this.addChild(this._bufferStage)}},{key:"updateViewOffset",value:function(){var t=(new Date).getTime();1e3<t-this.lastGetRO&&(this.viewOffset=a.$.offset(this.view),this.lastGetRO=t)}},{key:"_afterAddChild",value:function(t,e){var n;n=t.canvas?t.canvas:a.$.createCanvas(this.context.$model.width,this.context.$model.height,t.id),1==this.children.length?this.stageView.appendChild(n):1<this.children.length&&(void 0===e?this.stageView.insertBefore(n,this._bufferStage.canvas):e>=this.children.length-1?this.stageView.appendChild(n):this.stageView.insertBefore(n,this.children[e].canvas)),s.default.initElement(n),t.initStage(n,this.context.$model.width,this.context.$model.height)}},{key:"_afterDelChild",value:function(t){try{this.stageView.removeChild(t.canvas)}catch(t){}}},{key:"heartBeat",value:function(t){0<this.children.length&&this.renderer.heartBeat(t)}},{key:"toDataURL",value:function(){var t=a.$.createCanvas(this.width,this.height,"curr_base64_canvas"),e=t.getContext("2d");return a._.each(this.children,function(t){e.drawImage(t.canvas,0,0)}),t.toDataURL()}}])&&d(_.prototype,g),w);function w(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),t.type="canvax",(e=function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?v(t):e}(this,y(w).call(this,t)))._cid=(new Date).getTime()+"_"+Math.floor(100*Math.random()),e.el=a.$.query(t.el),e.width=parseInt("width"in t||e.el.offsetWidth,10),e.height=parseInt("height"in t||e.el.offsetHeight,10);var r=a.$.createView(e.width,e.height,e._cid);return e.view=r.view,e.stageView=r.stageView,e.domView=r.domView,e.el.innerHTML="",e.el.appendChild(e.view),e.viewOffset=a.$.offset(e.view),e.lastGetRO=0,e.webGL=t.webGL,e.renderer=(0,c.default)(v(e),n),e.event=null,e.convertStages={},e.context.$model.width=e.width,e.context.$model.height=e.height,e._bufferStage=null,e._creatHoverStage(),e.worldTransform=(new h.default).identity(),e}t.default=m}(e,utils,DisplayObjectContainer,Stage,autoRenderer,Matrix,mmvis)});unwrapExports(Application);var Sprite=createCommonjsModule(function(t,e){!function(t,e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(e),i=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,r.default),h);function h(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(t=i.default.checkOpt(t)).type="sprite",s(this,l(h).call(this,t))}t.default=c}(e,DisplayObjectContainer,utils)});unwrapExports(Sprite);var GraphicsData=createCommonjsModule(function(t,e){!function(t){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var n,r,i=(n=a,(r=[{key:"clone",value:function(){var t=new a(this.lineWidth,this.strokeStyle,this.strokeAlpha,this.fillStyle,this.fillAlpha,this.shape);return t.fill=this.fill,t.line=this.line,t}},{key:"addHole",value:function(t){this.holes.push(t)}},{key:"synsStyle",value:function(t){this.line&&(this.lineWidth=t.lineWidth,this.strokeStyle=t.strokeStyle,this.strokeAlpha=t.strokeAlpha),this.fill&&(this.fillStyle=t.fillStyle,this.fillAlpha=t.fillAlpha)}},{key:"hasFill",value:function(){return this.fillStyle&&this.fill&&void 0!==this.shape.closed&&this.shape.closed}},{key:"hasLine",value:function(){return this.strokeStyle&&this.lineWidth&&this.line}},{key:"destroy",value:function(){this.shape=null,this.holes=null}}])&&e(n.prototype,r),a);function a(t,e,n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.lineWidth=t,this.strokeStyle=e,this.strokeAlpha=n,this.fillStyle=r,this.fillAlpha=i,this.shape=o,this.type=o.type,this.holes=[],this.fill=!0,this.line=!0}t.default=i}(e)});unwrapExports(GraphicsData);var Arc=createCommonjsModule(function(t,e){!function(t){Object.defineProperty(t,"__esModule",{value:!0});var L={},x={},M={},D=Array.prototype.join;function v(t,e,n,r,i,o,a){var s=D.call(arguments);if(L[s])return L[s];var l=Math.PI,u=a*l/180,c=Math.sin(u),h=Math.cos(u),f=0,p=0,d=-h*t*.5-c*e*.5,y=-h*e*.5+c*t*.5,v=(n=Math.abs(n))*n,b=(r=Math.abs(r))*r,_=y*y,g=d*d,m=v*b-v*_-b*g,w=0;if(m<0){var x=Math.sqrt(1-m/(v*b));n*=x,r*=x}else w=(i===o?-1:1)*Math.sqrt(m/(v*_+b*g));var O=w*n*y/r,S=-w*r*d/n,P=h*O-c*S+.5*t,k=c*O+h*S+.5*e,C=N(1,0,(d-O)/n,(y-S)/r),T=N((d-O)/n,(y-S)/r,(-d-O)/n,(-y-S)/r);0===o&&0<T?T-=2*l:1===o&&T<0&&(T+=2*l);for(var j=Math.ceil(Math.abs(T/l*2)),M=[],E=T/j,A=8/3*Math.sin(E/4)*Math.sin(E/4)/Math.sin(E/2),I=C+E,R=0;R<j;R++)M[R]=$(C,I,h,c,n,r,P,k,A,f,p),f=M[R][4],p=M[R][5],C=I,I+=E;return L[s]=M}function $(t,e,n,r,i,o,a,s,l,u,c){var h=D.call(arguments);if(x[h])return x[h];var f=Math.cos(t),p=Math.sin(t),d=Math.cos(e),y=Math.sin(e),v=n*i*d-r*o*y+a,b=r*i*d+n*o*y+s,_=u+l*(-n*i*p-r*o*f),g=c+l*(-r*i*p+n*o*f),m=v+l*(n*i*y+r*o*d),w=b+l*(r*i*y-n*o*d);return x[h]=[_,g,m,w,v,b],x[h]}function N(t,e,n,r){var i=Math.atan2(e,t),o=Math.atan2(r,n);return i<=o?o-i:2*Math.PI-(i-o)}function b(t,e,n,r,i,o,a,s){var l=D.call(arguments);if(M[l])return M[l];var u,c,h,f,p,d,y,v,b=Math.sqrt,_=Math.min,g=Math.max,m=Math.abs,w=[],x=[[],[]];c=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,h=3*n-3*t;for(var O=0;O<2;++O)if(0<O&&(c=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,h=3*r-3*e),m(u)<1e-12){if(m(c)<1e-12)continue;0<(f=-h/c)&&f<1&&w.push(f)}else(y=c*c-4*h*u)<0||(0<(p=(-c+(v=b(y)))/(2*u))&&p<1&&w.push(p),0<(d=(-c-v)/(2*u))&&d<1&&w.push(d));for(var S,P,k,C=w.length,T=C;C--;)S=(k=1-(f=w[C]))*k*k*t+3*k*k*f*n+3*k*f*f*i+f*f*f*a,x[0][C]=S,P=k*k*k*e+3*k*k*f*r+3*k*f*f*o+f*f*f*s,x[1][C]=P;x[0][T]=t,x[1][T]=e,x[0][T+1]=a,x[1][T+1]=s;var j=[{x:_.apply(null,x[0]),y:_.apply(null,x[1])},{x:g.apply(null,x[0]),y:g.apply(null,x[1])}];return M[l]=j}t.default={drawArc:function(t,e,n,r){for(var i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=[[],[],[],[]],c=v(r[5]-e,r[6]-n,i,o,s,l,a),h=0,f=c.length;h<f;h++)u[h][0]=c[h][0]+e,u[h][1]=c[h][1]+n,u[h][2]=c[h][2]+e,u[h][3]=c[h][3]+n,u[h][4]=c[h][4]+e,u[h][5]=c[h][5]+n,t.bezierCurveTo.apply(t,u[h])},getBoundsOfCurve:b,getBoundsOfArc:function(t,e,n,r,i,o,a,s,l){for(var u,c=0,h=0,f=[],p=v(s-t,l-e,n,r,o,a,i),d=0,y=p.length;d<y;d++)u=b(c,h,p[d][0],p[d][1],p[d][2],p[d][3],p[d][4],p[d][5]),f.push({x:u[0].x+t,y:u[0].y+e}),f.push({x:u[1].x+t,y:u[1].y+e}),c=p[d][4],h=p[d][5];return f}}}(e)});unwrapExports(Arc);var Rectangle=createCommonjsModule(function(t,e){!function(t,i){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,o=(n=a,(r=[{key:"clone",value:function(){return new a(this.x,this.y,this.width,this.height)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}},{key:"contains",value:function(t,e){return!(this.height*e<0||this.width*t<0)&&t>=this.x&&t<=this.x+this.width&&(0<=this.height&&e>=this.y&&e<=this.y+this.height||this.height<0&&e<=this.y&&e>=this.y+this.height)}}])&&e(n.prototype,r),a);function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.x=t,this.y=e,this.width=n,this.height=r,this.type=i.SHAPES.RECT,this.closed=!0}t.default=o}(e,_const)});unwrapExports(Rectangle);var Circle=createCommonjsModule(function(t,e){!function(t,e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=e)&&n.__esModule?n:{default:n};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a,s,l=(a=u,(s=[{key:"clone",value:function(){return new u(this.x,this.y,this.radius)}},{key:"contains",value:function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n}},{key:"getBounds",value:function(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}])&&o(a.prototype,s),u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.x=t,this.y=e,this.radius=n,this.type=r.SHAPES.CIRC,this.closed=!0}t.default=l}(e,Rectangle,_const)});unwrapExports(Circle);var Ellipse=createCommonjsModule(function(t,e){!function(t,e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=e)&&n.__esModule?n:{default:n};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a,s,l=(a=u,(s=[{key:"clone",value:function(){return new u(this.x,this.y,this.width,this.height)}},{key:"contains",value:function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1}},{key:"getBounds",value:function(){return new r.default(this.x-this.width,this.y-this.height,this.width,this.height)}}])&&o(a.prototype,s),u);function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.x=t,this.y=e,this.width=n,this.height=r,this.type=i.SHAPES.ELIP,this.closed=!0}t.default=l}(e,Rectangle,_const)});unwrapExports(Ellipse);var Polygon=createCommonjsModule(function(t,e){!function(t,s){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i=(n=l,(r=[{key:"clone",value:function(){return new l(this.points.slice())}},{key:"close",value:function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1]),this.closed=!0}},{key:"contains",value:function(t,e){return this._isInsidePolygon_WindingNumber(t,e)}},{key:"_isInsidePolygon_WindingNumber",value:function(t,e){for(var n,r=this.points,i=0,o=r[1]>e,a=3;a<r.length;a+=2)if((n=o)!=(o=r[a]>e)){var s=(n?1:0)-(o?1:0);0<s*((r[a-3]-t)*(r[a-0]-e)-(r[a-2]-e)*(r[a-1]-t))&&(i+=s)}return i}}])&&e(n.prototype,r),l);function l(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var r=e[0];if(Array.isArray(r)&&(e=r),r&&"x"in r&&"y"in r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(e[o].x,e[o].y);e=i}this.closed=!0,this.points=e,this.type=s.SHAPES.POLY}t.default=i}(e,_const)});unwrapExports(Polygon);var math=createCommonjsModule(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}var r,i,o,a,s,l;r=e,i=Arc,o=Circle,a=Ellipse,s=Polygon,l=Rectangle,Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Arc",{enumerable:!0,get:function(){return n(i).default}}),Object.defineProperty(r,"Circle",{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(r,"Ellipse",{enumerable:!0,get:function(){return n(a).default}}),Object.defineProperty(r,"Polygon",{enumerable:!0,get:function(){return n(s).default}}),Object.defineProperty(r,"Rectangle",{enumerable:!0,get:function(){return n(l).default}})});unwrapExports(math);var bezierCurveTo=createCommonjsModule(function(t,e){var n;n=e,Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n,r,i,o,a,s){var l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:[],u=0,c=0,h=0,f=0,p=0;l.push(t,e);for(var d=1,y=0;d<=20;++d)h=(c=(u=1-(y=d/20))*u)*u,p=(f=y*y)*y,l.push(h*t+3*c*y*n+3*u*f*i+p*a,h*e+3*c*y*r+3*u*f*o+p*s);return l}});unwrapExports(bezierCurveTo);var Graphics=createCommonjsModule(function(t,e){!function(t,e,o,O,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(e),u=a(n);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l,c,h=(l=f,(c=[{key:"setStyle",value:function(t){var e=t.$model;this.lineWidth=e.lineWidth,this.strokeStyle=e.strokeStyle,this.strokeAlpha=e.strokeAlpha*e.globalAlpha,this.fillStyle=e.fillStyle,this.fillAlpha=e.fillAlpha*e.globalAlpha;var n=this;this.graphicsData.length&&r._.each(this.graphicsData,function(t,e){t.synsStyle(n)})}},{key:"clone",value:function(){for(var t=new f,e=t.dirty=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t}},{key:"moveTo",value:function(t,e){var n=new o.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this}},{key:"lineTo",value:function(t,e){return this.currentPath?(this.currentPath.shape.points.push(t,e),this.dirty++):this.moveTo(0,0),this}},{key:"quadraticCurveTo",value:function(t,e,n,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,o=0,a=0;0===i.length&&this.moveTo(0,0);for(var s=i[i.length-2],l=i[i.length-1],u=1;u<=20;++u){var c=u/20;o=s+(t-s)*c,a=l+(e-l)*c,i.push(o+(t+(n-t)*c-o)*c,a+(e+(r-e)*c-a)*c)}return this.dirty++,this}},{key:"bezierCurveTo",value:function(t,e,n,r,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,s=a[a.length-2],l=a[a.length-1];return a.length-=2,(0,u.default)(s,l,t,e,n,r,i,o,a),this.dirty++,this}},{key:"arcTo",value:function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1]-e,l=a-t,u=r-e,c=n-t,h=Math.abs(s*c-l*u);if(h<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+l*l,p=u*u+c*c,d=s*u+l*c,y=i*Math.sqrt(f)/h,v=i*Math.sqrt(p)/h,b=y*d/f,_=v*d/p,g=y*c+v*l,m=y*u+v*s,w=l*(v+b),x=s*(v+b),O=c*(y+_),S=u*(y+_),P=Math.atan2(x-m,w-g),k=Math.atan2(S-m,O-g);this.arc(g+t,m+e,i,P,k,c*s<l*u)}return this.dirty++,this}},{key:"arc",value:function(t,e,n,r,i,o){var a=5<arguments.length&&void 0!==o&&o;if(r===i)return this;!a&&i<=r?i+=2*Math.PI:a&&r<=i&&(r+=2*Math.PI);var s=i-r,l=48*Math.ceil(Math.abs(s)/(2*Math.PI));if(0==s)return this;var u=t+Math.cos(r)*n,c=e+Math.sin(r)*n,h=this.currentPath?this.currentPath.shape.points:null;h?h[h.length-2]===u&&h[h.length-1]===c||h.push(u,c):(this.moveTo(u,c),h=this.currentPath.shape.points);for(var f=s/(2*l),p=2*f,d=Math.cos(f),y=Math.sin(f),v=l-1,b=v%1/v,_=0;_<=v;++_){var g=f+r+p*(_+b*_),m=Math.cos(g),w=-Math.sin(g);h.push((d*m+y*w)*n+t,(d*-w+y*m)*n+e)}return this.dirty++,this}},{key:"drawRect",value:function(t,e,n,r){return this.drawShape(new o.Rectangle(t,e,n,r)),this}},{key:"drawCircle",value:function(t,e,n){return this.drawShape(new o.Circle(t,e,n)),this}},{key:"drawEllipse",value:function(t,e,n,r){return this.drawShape(new o.Ellipse(t,e,n,r)),this}},{key:"drawPolygon",value:function(t){var e=t,n=!0;if(e instanceof o.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var i=new o.Polygon(e);return i.closed=n,this.drawShape(i),this}},{key:"clear",value:function(){return 0<this.graphicsData.length&&(this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this}},{key:"drawShape",value:function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.beginPath();var e=new i.default(this.lineWidth,this.strokeStyle,this.strokeAlpha,this.fillStyle,this.fillAlpha,t);return this.graphicsData.push(e),e.type===O.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e}},{key:"beginPath",value:function(){this.currentPath=null}},{key:"closePath",value:function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this}},{key:"updateLocalBounds",value:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,l=0,u=0;u<this.graphicsData.length;u++){var c=this.graphicsData[u],h=c.type,f=c.lineWidth;if(i=c.shape,h===O.SHAPES.RECT||h===O.SHAPES.RREC)o=i.x-f/2,a=i.y-f/2,t=o<t?o:t,e=e<o+(s=i.width+f)?o+s:e,n=a<n?a:n,r=r<a+(l=i.height+f)?a+l:r;else if(h===O.SHAPES.CIRC)o=i.x,a=i.y,t=o-(s=i.radius+f/2)<t?o-s:t,e=e<o+s?o+s:e,n=a-(l=i.radius+f/2)<n?a-l:n,r=r<a+l?a+l:r;else if(h===O.SHAPES.ELIP)o=i.x,a=i.y,t=o-(s=i.width+f/2)<t?o-s:t,e=e<o+s?o+s:e,n=a-(l=i.height+f/2)<n?a-l:n,r=r<a+l?a+l:r;else for(var p=i.points,d=0,y=0,v=0,b=0,_=0,g=0,m=0,w=0,x=0;x+2<p.length;x+=2)o=p[x],a=p[x+1],d=p[x+2],y=p[x+3],v=Math.abs(d-o),b=Math.abs(y-a),l=f,(s=Math.sqrt(v*v+b*b))<1e-9||(t=(m=(d+o)/2)-(_=(l/s*b+v)/2)<t?m-_:t,e=e<m+_?m+_:e,n=(w=(y+a)/2)-(g=(l/s*v+b)/2)<n?w-g:n,r=r<w+g?w+g:r)}else r=n=e=t=0;return this.Bound={x:t,y:n,width:e-t,height:r-n},this}},{key:"getBound",value:function(){return this.updateLocalBounds().Bound}},{key:"destroy",value:function(){for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webGL)for(var n=0;n<this._webGL[e].data.length;++n)this._webGL[e].data[n].destroy();this.graphicsData=null,this.currentPath=null,this._webGL=null}}])&&s(l.prototype,c),f);function f(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),this.lineWidth=1,this.strokeStyle=null,this.strokeAlpha=1,this.fillStyle=null,this.fillAlpha=1,this.graphicsData=[],this.currentPath=null,this.dirty=0,this.clearDirty=0,this._webGL={},this.worldAlpha=1,this.tint=16777215,this.Bound={x:0,y:0,width:0,height:0}}t.default=h}(e,GraphicsData,math,_const,bezierCurveTo,mmvis)});unwrapExports(Graphics);var Shape=createCommonjsModule(function(t,e){!function(t,e,n,i,r,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(e),s=u(n),l=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y,v,b=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(_,a.default),y=_,(v=[{key:"_draw",value:function(t){0==t.graphicsData.length&&(t.setStyle(this.context),this.draw(t))}},{key:"draw",value:function(){}},{key:"clearGraphicsData",value:function(){this.graphics.clear()}},{key:"$watch",value:function(t,e,n){-1<i._.indexOf(r.STYLE_PROPS,t)&&this.graphics.setStyle(this.context),this.watch(t,e,n)}},{key:"initCompProperty",value:function(t){for(var e in t)"id"!=e&&"context"!=e&&(this[e]=t[e])}},{key:"getBound",value:function(){return this.graphics.updateLocalBounds().Bound}}])&&h(y.prototype,v),_);function _(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,_);var n={cursor:(t=s.default.checkOpt(t)).context.cursor||"default",fillAlpha:t.context.fillAlpha||1,fillStyle:t.context.fillStyle||null,lineCap:t.context.lineCap||"round",lineJoin:t.context.lineJoin||"round",miterLimit:t.context.miterLimit||null,strokeAlpha:t.context.strokeAlpha||1,strokeStyle:t.context.strokeStyle||null,lineType:t.context.lineType||"solid",lineDash:t.context.lineDash||[6,3],lineWidth:t.context.lineWidth||null},r=i._.extend(!0,n,t.context);return t.context=r,void 0===t.id&&void 0!==t.type&&(t.id=s.default.createId(t.type)),(e=f(this,p(_).call(this,t)))._hoverClass=!1,e.hoverClone=!0,e.pointChkPriority=!0,e._eventEnabled=!1,e.dragEnabled=t.dragEnabled||!1,e._dragDuplicate=null,e.type=e.type||"shape",e.initCompProperty(t),e.isClone?e.graphics=null:(e.graphics=new l.default,e._draw(e.graphics)),e}t.default=b}(e,DisplayObject,utils,mmvis,_const,Graphics)});unwrapExports(Shape);var Text=createCommonjsModule(function(t,e){!function(t,e,n,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(e),o=a(n);function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f,p,d=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(y,r.default),f=y,(p=[{key:"$watch",value:function(t,e){0<=i._.indexOf(this.fontProperts,t)&&(this.context[t]=e,this.context.font=this._getFontDeclaration(),this.context.width=this.getTextWidth(),this.context.height=this.getTextHeight())}},{key:"_setContextStyle",value:function(t,e,n){for(var r in e)"textBaseline"!=r&&r in t&&(e[r]||i._.isNumber(e[r]))&&("globalAlpha"==r?t.globalAlpha=n:t[r]=e[r])}},{key:"render",value:function(t,e){this._renderText(t,this._getTextLines(),e)}},{key:"resetText",value:function(t){this.text=t.toString(),this.heartBeat()}},{key:"getTextWidth",value:function(){var t=0;return o.default._pixelCtx&&(o.default._pixelCtx.save(),o.default._pixelCtx.font=this.context.$model.font,t=this._getTextWidth(o.default._pixelCtx,this._getTextLines()),o.default._pixelCtx.restore()),t}},{key:"getTextHeight",value:function(){return this._getTextHeight(o.default._pixelCtx,this._getTextLines())}},{key:"_getTextLines",value:function(){return this.text.split(this._reNewline)}},{key:"_renderText",value:function(t,e,n){t&&(t.save(),this._setContextStyle(t,this.context.$model,n),this._renderTextStroke(t,e),this._renderTextFill(t,e),t.restore())}},{key:"_getFontDeclaration",value:function(){var n=this,r=[];return i._.each(this.fontProperts,function(t){var e=n.context[t];"fontSize"==t&&(e=parseFloat(e)+"px"),e&&r.push(e)}),r.join(" ")}},{key:"_renderTextFill",value:function(t,e){if(this.context.$model.fillStyle){this._boundaries=[];for(var n=0,r=0,i=e.length;r<i;r++)n+=this._getHeightOfLine(t,r,e),this._renderTextLine("fillText",t,e[r],0,this._getTopOffset()+n,r)}}},{key:"_renderTextStroke",value:function(t,e){if(t&&this.context.$model.strokeStyle&&this.context.$model.lineWidth){var n=0;t.save(),this.strokeDashArray&&(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),supportsLineDash&&t.setLineDash(this.strokeDashArray)),t.beginPath();for(var r=0,i=e.length;r<i;r++)n+=this._getHeightOfLine(t,r,e),this._renderTextLine("strokeText",t,e[r],0,this._getTopOffset()+n,r);t.closePath(),t.restore()}}},{key:"_renderTextLine",value:function(t,e,n,r,i,o){if(i-=this._getHeightOfLine()/4,"justify"===this.context.$model.textAlign){var a=e.measureText(n).width,s=this.context.$model.width;if(a<s)for(var l=n.split(/\s+/),u=(s-e.measureText(n.replace(/\s+/g,"")).width)/(l.length-1),c=0,h=0,f=l.length;h<f;h++)this._renderChars(t,e,l[h],r+c,i,o),c+=e.measureText(l[h]).width+u;else this._renderChars(t,e,n,r,i,o)}else this._renderChars(t,e,n,r,i,o)}},{key:"_renderChars",value:function(t,e,n,r,i){e[t](n,0,i)}},{key:"_getHeightOfLine",value:function(){return this.context.$model.fontSize*this.context.$model.lineHeight}},{key:"_getTextWidth",value:function(t,e){for(var n=t.measureText(e[0]||"|").width,r=1,i=e.length;r<i;r++){var o=t.measureText(e[r]).width;n<o&&(n=o)}return n}},{key:"_getTextHeight",value:function(t,e){return this.context.$model.fontSize*e.length*this.context.$model.lineHeight}},{key:"_getTopOffset",value:function(){var t=0;switch(this.context.$model.textBaseline){case"top":t=0;break;case"middle":t=-this.context.$model.height/2;break;case"bottom":t=-this.context.$model.height}return t}},{key:"getRect",value:function(){var t=this.context,e=0,n=0;return"center"==t.textAlign&&(e=-t.width/2),"right"==t.textAlign&&(e=-t.width),"middle"==t.textBaseline&&(n=-t.height/2),"bottom"==t.textBaseline&&(n=-t.height),{x:e,y:n,width:t.width,height:t.height}}}])&&l(f.prototype,p),y);function y(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),e.type="text",null==t&&(t=""),e.context=i._.extend({font:"",fontSize:13,fontWeight:"normal",fontFamily:",sans-serif",textBaseline:"top",textAlign:"left",textDecoration:null,fillStyle:"blank",strokeStyle:null,lineWidth:0,lineHeight:1.2,backgroundColor:null,textBackgroundColor:null},e.context),(n=u(this,c(y).call(this,e)))._reNewline=/\r?\n/,n.fontProperts=["fontStyle","fontVariant","fontWeight","fontSize","fontFamily"],n.context.font=n._getFontDeclaration(),n.text=t.toString(),n.context.width=n.getTextWidth(),n.context.height=n.getTextHeight(),n}t.default=d}(e,DisplayObject,utils,mmvis)});unwrapExports(Text);var Vector=createCommonjsModule(function(t,e){function n(t,e){var n=0,r=0;if(1==arguments.length&&o._.isObject(t)){var i=t;o._.isArray(i)?(n=i[0],r=i[1]):i.hasOwnProperty("x")&&i.hasOwnProperty("y")&&(n=i.x,r=i.y)}this._axes=[n,r]}var r,o;r=e,o=mmvis,Object.defineProperty(r,"__esModule",{value:!0}),n.prototype={distance:function(t){var e=this._axes[0]-t._axes[0],n=this._axes[1]-t._axes[1];return Math.sqrt(e*e+n*n)}},r.default=n});unwrapExports(Vector);var SmoothSpline=createCommonjsModule(function(t,e){!function(t,e,w){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var e=t.points,n=t.isLoop,r=t.smoothFilter,i=e.length;if(1==i)return e;for(var o=[],a=0,s=new x.default(e[0]),l=null,u=1;u<i;u++)l=new x.default(e[u]),a+=s.distance(l),s=l;l=s=null;var c=a/6;c=c<i?i:c;for(u=0;u<c;u++){var h,f,p,d=u/(c-1)*(n?i:i-1),y=Math.floor(d),v=d-y,b=e[y%i];p=n?(h=e[(y-1+i)%i],f=e[(y+1)%i],e[(y+2)%i]):(h=e[0===y?y:y-1],f=e[i-2<y?i-1:y+1],e[i-3<y?i-1:y+2]);var _=v*v,g=v*_,m=[O(h[0],b[0],f[0],p[0],v,_,g),O(h[1],b[1],f[1],p[1],v,_,g)];w._.isFunction(r)&&r(m),o.push(m)}return o};var n,x=(n=e)&&n.__esModule?n:{default:n};function O(t,e,n,r,i,o,a){var s=.25*(n-t),l=.25*(r-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*i+e}}(e,Vector,mmvis)});unwrapExports(SmoothSpline);var _Math=createCommonjsModule(function(t,e){!function(t,e,a){Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=e)&&n.__esModule?n:{default:n},r={sin:{},cos:{}},o=Math.PI/180;function s(t,e){var n={points:t};a._.isFunction(e)&&(n.smoothFilter=e);var r=(0,i.default)(n);return t&&0<t.length&&r.push(t[t.length-1]),r}function l(t){return!t||a._.isArray(t)&&2<=t.length&&(!a._.isNumber(t[0])||!a._.isNumber(t[1]))||"x"in t&&!a._.isNumber(t.x)||"y"in t&&!a._.isNumber(t.y)}t.default={PI:Math.PI,sin:function(t,e){return t=(e?t*o:t).toFixed(4),void 0===r.sin[t]&&(r.sin[t]=Math.sin(t)),r.sin[t]},cos:function(t,e){return t=(e?t*o:t).toFixed(4),void 0===r.cos[t]&&(r.cos[t]=Math.cos(t)),r.cos[t]},degreeToRadian:function(t){return t*o},radianToDegree:function(t){return t/o},degreeTo360:function(t){var e=(360+t%360)%360;return 0==e&&0!==t&&(e=360),e},getIsgonPointList:function(t,e){for(var n=[],r=2*Math.PI/t,i=-Math.PI/2,o=0,a=t;o<a;o++)n.push([e*Math.cos(i),e*Math.sin(i)]),i+=r;return n},getSmoothPointList:function(t,n){var r=[],i=t.length,o=[];return a._.each(t,function(t,e){l(t)?(o.length&&(r=r.concat(s(o,n)),o=[]),r.push(t)):o.push(t),e==i-1&&o.length&&(r=r.concat(s(o,n)),o=[])}),r},isNotValibPoint:l,isValibPoint:function(t){return!l(t)}}}(e,SmoothSpline,mmvis)});unwrapExports(_Math);var BrokenLine=createCommonjsModule(function(t,e){!function(t,e,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(e),a=l(n),s=l(i);function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d,y,v=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(b,o.default),d=b,(y=[{key:"watch",value:function(t,e){"pointList"!=t&&"smooth"!=t&&"lineType"!=t||("pointList"==t&&this.context.smooth&&(this.context.pointList=s.default.getSmoothPointList(e,this.context.smoothFilter),this._pointList=e),"smooth"==t&&(this.context.pointList=e?s.default.getSmoothPointList(this._pointList,this.context.smoothFilter):this._pointList),this.graphics.clear())}},{key:"draw",value:function(t){for(var e=this.context.pointList,n=!1,r=0,i=e.length;r<i;r++){var o=e[r];n=!!s.default.isValibPoint(o)&&(n?t.lineTo(o[0],o[1]):t.moveTo(o[0],o[1]),!0)}return this}}])&&c(d.prototype,y),b);function b(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),t=a.default.checkOpt(t);var n=r._.extend(!0,{lineType:null,smooth:!1,pointList:[],smoothFilter:a.default.__emptyFunc},t.context);return!t.isClone&&n.smooth&&(n.pointList=s.default.getSmoothPointList(n.pointList,n.smoothFilter)),t.context=n,t.type="brokenline",(e=h(this,f(b).call(this,t)))._pointList=n.pointList,e}t.default=v}(e,Shape,utils,mmvis,_Math)});unwrapExports(BrokenLine);var Circle$1=createCommonjsModule(function(t,e){!function(t,e,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(e),o=a(n);function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f,p,d=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(y,i.default),f=y,(p=[{key:"watch",value:function(t){"r"==t&&this.graphics.clear()}},{key:"draw",value:function(t){var e=this.context.$model.r;e<0&&(e=0),t.drawCircle(0,0,e)}}])&&l(f.prototype,p),y);function y(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),t=r._.extend(!0,{type:"circle",xyToInt:!1,context:{r:0}},o.default.checkOpt(t)),u(this,c(y).call(this,t))}t.default=d}(e,Shape,utils,mmvis)});unwrapExports(Circle$1);var Path=createCommonjsModule(function(t,e){!function(t,e,n,r,i,l){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(e);function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}a(n),a(i);var p,d,y=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,o.default),p=v,(d=[{key:"watch",value:function(t){"path"==t&&this.graphics.clear()}},{key:"_parsePathData",value:function(t){if(this.__parsePathData)return this.__parsePathData;if(!t)return[];this.__parsePathData=[];var e=r._.compact(t.replace(/[Mm]/g,"\\r$&").split("\\r")),n=this;return r._.each(e,function(t){n.__parsePathData.push(n._parseChildPathData(t))}),this.__parsePathData}},{key:"_parseChildPathData",value:function(t){var e,n=t,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];for(n=(n=(n=(n=n.replace(/  /g," ")).replace(/ /g,",")).replace(/(\d)-/g,"$1,-")).replace(/,,/g,","),e=0;e<r.length;e++)n=n.replace(new RegExp(r[e],"g"),"|"+r[e]);var i=n.split("|"),o=[],a=0,s=0;for(e=1;e<i.length;e++){var l=i[e],u=l.charAt(0),c=(l=(l=l.slice(1)).replace(new RegExp("e,-","g"),"e-")).split(",");0<c.length&&""===c[0]&&c.shift();for(var h=0;h<c.length;h++)c[h]=parseFloat(c[h]);for(;0<c.length&&!isNaN(c[0]);){var f,p,d,y=null,v=[],b=a,_=s;switch(u){case"l":a+=c.shift(),s+=c.shift(),y="L",v.push(a,s);break;case"L":a=c.shift(),s=c.shift(),v.push(a,s);break;case"m":a+=c.shift(),s+=c.shift(),y="M",v.push(a,s),u="l";break;case"M":a=c.shift(),s=c.shift(),y="M",v.push(a,s),u="L";break;case"h":a+=c.shift(),y="L",v.push(a,s);break;case"H":a=c.shift(),y="L",v.push(a,s);break;case"v":s+=c.shift(),y="L",v.push(a,s);break;case"V":s=c.shift(),y="L",v.push(a,s);break;case"C":v.push(c.shift(),c.shift(),c.shift(),c.shift()),a=c.shift(),s=c.shift(),v.push(a,s);break;case"c":v.push(a+c.shift(),s+c.shift(),a+c.shift(),s+c.shift()),a+=c.shift(),s+=c.shift(),y="C",v.push(a,s);break;case"S":f=a,p=s,"C"===(d=o[o.length-1]).command&&(f=a+(a-d.points[2]),p=s+(s-d.points[3])),v.push(f,p,c.shift(),c.shift()),a=c.shift(),s=c.shift(),y="C",v.push(a,s);break;case"s":f=a,p=s,"C"===(d=o[o.length-1]).command&&(f=a+(a-d.points[2]),p=s+(s-d.points[3])),v.push(f,p,a+c.shift(),s+c.shift()),a+=c.shift(),s+=c.shift(),y="C",v.push(a,s);break;case"Q":v.push(c.shift(),c.shift()),a=c.shift(),s=c.shift(),v.push(a,s);break;case"q":v.push(a+c.shift(),s+c.shift()),a+=c.shift(),s+=c.shift(),y="Q",v.push(a,s);break;case"T":f=a,p=s,"Q"===(d=o[o.length-1]).command&&(f=a+(a-d.points[0]),p=s+(s-d.points[1])),a=c.shift(),s=c.shift(),y="Q",v.push(f,p,a,s);break;case"t":f=a,p=s,"Q"===(d=o[o.length-1]).command&&(f=a+(a-d.points[0]),p=s+(s-d.points[1])),a+=c.shift(),s+=c.shift(),y="Q",v.push(f,p,a,s);break;case"A":b=a,_=s,y="A",v=[c.shift(),c.shift(),c.shift(),c.shift(),c.shift(),a=c.shift(),s=c.shift(),b,_];break;case"a":b=a,_=s,y="A",v=[c.shift(),c.shift(),c.shift(),c.shift(),c.shift(),a+=c.shift(),s+=c.shift(),b,_]}o.push({command:y||u,points:v})}"z"!==u&&"Z"!==u||o.push({command:"z",points:[]})}return o}},{key:"draw",value:function(t){this.__parsePathData=null,this.context.$model.pointList=[];for(var e=this._parsePathData(this.context.$model.path),n=0,r=e.length;n<r;n++)for(var i=0,o=e[n].length;i<o;i++){var a=e[n][i].command,s=e[n][i].points;switch(a){case"L":t.lineTo(s[0],s[1]);break;case"M":t.moveTo(s[0],s[1]);break;case"C":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":t.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":l.Arc.drawArc(t,s[7],s[8],s);break;case"z":t.closePath()}}return this}}])&&u(p.prototype,d),v);function v(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v);var e=r._.extend(!0,{pointList:[],path:""},t.context);return t.context=e,t.__parsePathData=null,t.type="path",c(this,h(v).call(this,t))}t.default=y}(e,Shape,utils,mmvis,Matrix,math)});unwrapExports(Path);var Droplet=createCommonjsModule(function(t,e){!function(t,e,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(e),o=a(n);function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f,p,d=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(y,i.default),f=y,(p=[{key:"watch",value:function(t){"hr"!=t&&"vr"!=t||(this.context.$model.path=this.createPath())}},{key:"createPath",value:function(){var t=this.context.$model,e="M 0 "+t.hr+" C "+t.hr+" "+t.hr+" "+3*t.hr/2+" "+-t.hr/3+" 0 "+-t.vr;return e+=" C "+3*-t.hr/2+" "+-t.hr/3+" "+-t.hr+" "+t.hr+" 0 "+t.hr+"z"}}])&&l(f.prototype,p),y);function y(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),t=r._.extend(!0,{type:"droplet",context:{hr:0,vr:0}},o.default.checkOpt(t));e=u(this,c(y).call(this,t));return e.context.$model.path=e.createPath(),e}t.default=d}(e,Path,utils,mmvis)});unwrapExports(Droplet);var Ellipse$1=createCommonjsModule(function(t,e){!function(t,e,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(e),o=a(n);function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f,p,d=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(y,i.default),f=y,(p=[{key:"watch",value:function(t){"hr"!=t&&"vr"!=t||this.graphics.clear()}},{key:"draw",value:function(t){t.drawEllipse(0,0,2*this.context.$model.hr,2*this.context.$model.vr)}}])&&l(f.prototype,p),y);function y(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),t=r._.extend(!0,{type:"ellipse",context:{hr:0,vr:0}},o.default.checkOpt(t)),u(this,c(y).call(this,t))}t.default=d}(e,Shape,utils,mmvis)});unwrapExports(Ellipse$1);var Polygon$1=createCommonjsModule(function(t,e){!function(t,e,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(e),a=l(n),s=l(i);function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d,y,v=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(b,o.default),d=b,(y=[{key:"watch",value:function(t){"pointList"!=t&&"smooth"!=t&&"lineType"!=t||this.graphics.clear()}},{key:"draw",value:function(t){var e=this.context.pointList;if(!(e.length<2)){t.moveTo(e[0][0],e[0][1]);for(var n=1,r=e.length;n<r;n++)t.lineTo(e[n][0],e[n][1]);t.closePath()}}}])&&c(d.prototype,y),b);function b(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b);var e=r._.extend(!0,{lineType:null,smooth:!1,pointList:[],smoothFilter:a.default.__emptyFunc},t.context);if(!t.isClone){e.pointList[0];var n=e.pointList.slice(-1)[0];e.smooth&&(e.pointList.unshift(n),e.pointList=s.default.getSmoothPointList(e.pointList))}return t.context=e,t.type="polygon",h(this,f(b).call(this,t))}t.default=v}(e,Shape,utils,mmvis,_Math)});unwrapExports(Polygon$1);var Isogon=createCommonjsModule(function(t,e){!function(t,e,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(e),a=(s(n),s(i));function s(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p,d,y=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,o.default),p=v,(d=[{key:"watch",value:function(t){"r"!=t&&"n"!=t||(this.context.$model.pointList=a.default.getIsgonPointList(this.context.$model.n,this.context.$model.r)),"pointList"!=t&&"smooth"!=t&&"lineType"!=t||this.graphics.clear()}}])&&u(p.prototype,d),v);function v(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v);var e=r._.extend(!0,{pointList:[],r:0,n:0},t.context);return e.pointList=a.default.getIsgonPointList(e.n,e.r),t.context=e,t.type="isogon",c(this,h(v).call(this,t))}t.default=y}(e,Polygon$1,utils,mmvis,_Math)});unwrapExports(Isogon);var Line=createCommonjsModule(function(t,e){!function(t,e,n){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,((r=e)&&r.__esModule?r:{default:r}).default),u=f,(c=[{key:"watch",value:function(t){"x"!=t&&"y"!=t||this.graphics.clear()}},{key:"draw",value:function(t){var e=this.context.$model;return t.moveTo(e.start.x,e.start.y),t.lineTo(e.end.x,e.end.y),this}}])&&o(u.prototype,c),f);function f(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);var e=n._.extend(!0,{start:{x:0,y:0},end:{x:0,y:0}},t.context);return t.context=e,t.type="line",a(this,s(f).call(this,t))}t.default=h}(e,Shape,mmvis)});unwrapExports(Line);var Rect=createCommonjsModule(function(t,e){!function(t,e,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(e),s=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f,p,d=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(y,i.default),f=y,(p=[{key:"watch",value:function(t){"width"!=t&&"height"!=t&&"radius"!=t||this.graphics.clear()}},{key:"_buildRadiusPath",value:function(t){var e=this.context.$model,n=e.width,r=e.height,i=s.default.getCssOrderArr(e.radius),o=t,a=1;0<=r&&(a=-1),o.moveTo(parseInt(0+i[0]),parseInt(r)),o.lineTo(parseInt(0+n-i[1]),parseInt(r)),0!==i[1]&&o.quadraticCurveTo(0+n,r,parseInt(0+n),parseInt(r+i[1]*a)),o.lineTo(parseInt(0+n),parseInt(0-i[2]*a)),0!==i[2]&&o.quadraticCurveTo(0+n,0,parseInt(0+n-i[2]),parseInt(0)),o.lineTo(parseInt(0+i[3]),parseInt(0)),0!==i[3]&&o.quadraticCurveTo(0,0,parseInt(0),parseInt(0-i[3]*a)),o.lineTo(parseInt(0),parseInt(0+r+i[0]*a)),0!==i[0]&&o.quadraticCurveTo(0,0+r,parseInt(0+i[0]),parseInt(0+r))}},{key:"draw",value:function(t){var e=this.context.$model;e.radius.length?this._buildRadiusPath(t):t.drawRect(0,0,e.width,e.height),t.closePath()}}])&&l(f.prototype,p),y);function y(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y);var e=r._.extend(!0,{width:0,height:0,radius:[]},t.context);return t.context=e,t.type="rect",u(this,c(y).call(this,t))}t.default=d}(e,Shape,utils,mmvis)});unwrapExports(Rect);var Sector=createCommonjsModule(function(t,e){!function(t,e,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(e),s=(a(n),a(i));function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p,d,y=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,o.default),p=v,(d=[{key:"watch",value:function(t){"r0"!=t&&"r"!=t&&"startAngle"!=t&&"endAngle"!=t&&"clockwise"!=t||(this.isRing=!1,this.graphics.clear())}},{key:"draw",value:function(t){var e=this.context.$model,n=void 0===e.r0?0:e.r0,r=e.r,i=s.default.degreeTo360(e.startAngle),o=s.default.degreeTo360(e.endAngle);e.startAngle!=e.endAngle&&Math.abs(e.startAngle-e.endAngle)%360==0&&(this.isRing=!0,i=0,o=360),i=s.default.degreeToRadian(i),o=s.default.degreeToRadian(o);var a=t;this.isRing?0==e.r0?a.drawCircle(0,0,e.r):(e.fillStyle&&e.fillAlpha&&(a.beginPath(),a.arc(0,0,r,i,o,e.clockwise),0==e.r0?a.lineTo(0,0):a.arc(0,0,n,o,i,!e.clockwise),a.closePath(),a.currentPath.lineWidth=0,a.currentPath.strokeStyle=null,a.currentPath.strokeAlpha=0,a.currentPath.line=!1),e.lineWidth&&e.strokeStyle&&e.strokeAlpha&&(a.beginPath(),a.arc(0,0,r,i,o,e.clockwise),a.closePath(),a.currentPath.fillStyle=null,a.currentPath.fill=!1,a.beginPath(),a.arc(0,0,n,o,i,!e.clockwise),a.closePath(),a.currentPath.fillStyle=null,a.currentPath.fill=!1)):(a.beginPath(),a.arc(0,0,r,i,o,e.clockwise),0==e.r0?a.lineTo(0,0):a.arc(0,0,n,o,i,!e.clockwise),a.closePath())}}])&&u(p.prototype,d),v);function v(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v);var e=r._.extend(!0,{pointList:[],r0:0,r:0,startAngle:0,endAngle:0,clockwise:!1},t.context);return t.context=e,t.regAngle=[],t.isRing=!1,t.type="sector",c(this,h(v).call(this,t))}t.default=y}(e,Shape,utils,mmvis,_Math)});unwrapExports(Sector);var arrow=createCommonjsModule(function(t,e){!function(t,e,n){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,((r=e)&&r.__esModule?r:{default:r}).default),u=f,(c=[{key:"watch",value:function(t){"x"!=t&&"y"!=t&&"theta"!=t&&"headlen"!=t&&"angle"!=t||this.graphics.clear()}},{key:"draw",value:function(t){var e=this.context.$model,n=e.control.x,r=e.control.y,i=e.point.x,o=e.point.y,a=null!=e.angle?e.angle-180:180*Math.atan2(r-o,n-i)/Math.PI,s=(a+e.theta)*Math.PI/180,l=(a-e.theta)*Math.PI/180,u=e.headlen*Math.cos(s),c=e.headlen*Math.sin(s),h=e.headlen*Math.cos(l),f=e.headlen*Math.sin(l),p=i+u,d=o+c;return t.moveTo(p,d),t.lineTo(i,o),t.lineTo(i+h,o+f),e.fillStyle&&(t.lineTo(p,d),t.closePath()),this}}])&&o(u.prototype,c),f);function f(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f);var e=n._.extend(!0,{control:{x:0,y:0},point:{x:0,y:0},angle:null,theta:30,headlen:6,lineWidth:1,strokeStyle:"#666",fillStyle:null},t.context);return t.context=e,t.type="arrow",a(this,s(f).call(this,t))}t.default=h}(e,Shape,mmvis)});unwrapExports(arrow);var dist=createCommonjsModule(function(t,e){!function(t,e,n,r,i,o,a,s,l,u,c,h,f,p,d,y,v,b,_,g,m,w){Object.defineProperty(t,"__esModule",{value:!0});var x=G(e),O=G(n),S=G(r),P=G(i),k=G(o),C=G(a),T=G(s),j=G(l),M=G(u),E=G(c),A=G(h),I=G(f),R=G(p),L=G(d),D=G(y),$=G(v),N=G(b),F=G(_),B=G(g),W=G(m),H=G(w);function G(t){return t&&t.__esModule?t:{default:t}}var U={App:x.default};U.Display={DisplayObject:O.default,DisplayObjectContainer:S.default,Stage:P.default,Sprite:k.default,Shape:C.default,Point:T.default,Text:j.default},U.Shapes={BrokenLine:M.default,Circle:E.default,Droplet:A.default,Ellipse:I.default,Isogon:R.default,Line:L.default,Path:D.default,Polygon:$.default,Rect:N.default,Sector:F.default,Arrow:B.default},U.AnimationFrame=W.default,U.utils=H.default,t.default=U}(e,Application,DisplayObject,DisplayObjectContainer,Stage,Sprite,Shape,Point,Text,BrokenLine,Circle$1,Droplet,Ellipse$1,Isogon,Line,Path,Polygon$1,Rect,Sector,arrow,AnimationFrame,utils)}),index=unwrapExports(dist);module.exports=index;