define("display/Shape",["./DisplayObject","../utils/index","mmvis","../const","../graphics/Graphics"],function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var r=t("./DisplayObject"),l=t("../utils/index"),a=t("mmvis"),c=t("../const"),p=t("../graphics/Graphics"),s=function(t){function e(e){var n=this,i={cursor:(e=l.default.checkOpt(e)).context.cursor||"default",fillAlpha:e.context.fillAlpha||1,fillStyle:e.context.fillStyle||null,lineCap:e.context.lineCap||"round",lineJoin:e.context.lineJoin||"round",miterLimit:e.context.miterLimit||null,lineAlpha:e.context.lineAlpha||1,strokeStyle:e.context.strokeStyle||null,lineType:e.context.lineType||"solid",lineWidth:e.context.lineWidth||null},o=a._.extend(!0,i,e.context);return e.context=o,void 0===e.id&&void 0!==e.type&&(e.id=l.default.createId(e.type)),(n=t.call(this,e)||this)._hoverClass=!1,n.hoverClone=!0,n.pointChkPriority=!0,n._eventEnabled=!1,n.dragEnabled=e.dragEnabled||!1,n._dragDuplicate=null,n.type=n.type||"shape",n.initCompProperty(e),n.isClone?n.graphics=null:(n.graphics=new p.default,n._draw(n.graphics)),n}return o(e,t),e.prototype._draw=function(t){0==t.graphicsData.length&&(t.setStyle(this.context),this.draw(t))},e.prototype.draw=function(){},e.prototype.clearGraphicsData=function(){this.graphics.clear()},e.prototype.$watch=function(t,e,n){a._.indexOf(c.STYLE_PROPS,t)>-1&&this.graphics.setStyle(this.context),this.watch(t,e,n)},e.prototype.initCompProperty=function(t){for(var e in t)"id"!=e&&"context"!=e&&(this[e]=t[e])},e.prototype.getBound=function(){return this.graphics.updateLocalBounds().Bound},e.prototype.dashedLineTo=function(t,e,n,i,o,r){r=void 0===r?3:r,r=Math.max(r,this.context.$model.lineWidth);for(var l=i-e,a=o-n,c=Math.floor(Math.sqrt(l*l+a*a)/r),p=0;p<c;++p){var s=parseInt(e+l/c*p),h=parseInt(n+a/c*p);t[p%2==0?"moveTo":"lineTo"](s,h),p==c-1&&p%2==0&&t.lineTo(i,o)}},e}(r.default);e.default=s});