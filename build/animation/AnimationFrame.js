define("animation/AnimationFrame",[(()=>{throw new Error("unfound:/Users/litao/Sites/canvax/src/animation/tweenjs/tween.js")})(),"../utils/index","mmvis"],function(n,e,t){"use strict";e.__esModule=!0;for(var i=n((()=>{throw new Error("unfound:/Users/litao/Sites/canvax/src/animation/tweenjs/tween.js")})()),o=n("../utils/index"),a=n("mmvis"),r=0,s=["ms","moz","webkit","o"],u=0;u<s.length&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[s[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[u]+"CancelAnimationFrame"]||window[s[u]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n,e){var t=(new Date).getTime(),i=Math.max(0,16-(t-r)),o=window.setTimeout(function(){n(t+i)},i);return r=t+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)});var m=[],d=null;function l(n){if(n)return m.push(n),d||(d=requestAnimationFrame(function(){i.default.update();var n=m;for(m=[],d=null;n.length>0;)n.shift().task()})),d}function f(n){for(var e=!1,t=0,i=m.length;t<i;t++)m[t].id===n.id&&(e=!0,m.splice(t,1),t--,i--);return 0==m.length&&(cancelAnimationFrame(d),d=null),e}e.default={registFrame:l,destroyFrame:f,registTween:function(n){var e=a._.extend({from:null,to:null,duration:500,onStart:function(){},onUpdate:function(){},onComplete:function(){},onStop:function(){},repeat:0,delay:0,easing:"Linear.None",desc:""},n),t={},r="tween_"+o.default.getUID();e.id&&(r=r+"_"+e.id),e.from&&e.to&&((t=new i.default.Tween(e.from).to(e.to,e.duration).onStart(function(){e.onStart(e.from)}).onUpdate(function(){e.onUpdate(e.from)}).onComplete(function(){f({id:r}),t._isCompleteed=!0,e.onComplete(e.from)}).onStop(function(){f({id:r}),t._isStoped=!0,e.onStop(e.from)}).repeat(e.repeat).delay(e.delay).easing(i.default.Easing[e.easing.split(".")[0]][e.easing.split(".")[1]])).id=r,t.start(),function n(){t._isCompleteed||t._isStoped?t=null:l({id:r,task:n,desc:e.desc,tween:t})}());return t},destroyTween:function(n,e){n.stop()},Tween:i.default,taskList:m}});