define("graphics/canvas/GraphicsRenderer",["../../const"],function(l,e,t){"use strict";e.__esModule=!0;var i=l("../../const"),a=function(){function l(l){this.renderer=l}return l.prototype.render=function(l,e,t,a){this.renderer;for(var h=l.graphics.graphicsData,r=e.ctx,o=0;o<h.length;o++){var n=h[o],s=n.shape,p=n.fillStyle,f=n.strokeStyle,y=n.hasFill()&&n.fillAlpha&&!a,c=n.hasLine()&&n.lineAlpha&&!a;if(r.lineWidth=n.lineWidth,n.type===i.SHAPES.POLY)r.beginPath(),this.renderPolygon(s.points,s.closed,r,a),y&&(r.globalAlpha=n.fillAlpha*t,r.fillStyle=p,r.fill()),c&&(r.globalAlpha=n.lineAlpha*t,r.strokeStyle=f,r.stroke());else if(n.type===i.SHAPES.RECT)a&&r.rect(s.x,s.y,s.width,s.height),y&&(r.globalAlpha=n.fillAlpha*t,r.fillStyle=p,r.fillRect(s.x,s.y,s.width,s.height)),c&&(r.globalAlpha=n.lineAlpha*t,r.strokeStyle=f,r.strokeRect(s.x,s.y,s.width,s.height));else if(n.type===i.SHAPES.CIRC)r.beginPath(),r.arc(s.x,s.y,s.radius,0,2*Math.PI),r.closePath(),y&&(r.globalAlpha=n.fillAlpha*t,r.fillStyle=p,r.fill()),c&&(r.globalAlpha=n.lineAlpha*t,r.strokeStyle=f,r.stroke());else if(n.type===i.SHAPES.ELIP){var g=2*s.width,A=2*s.height,S=s.x-g/2,d=s.y-A/2;r.beginPath();var b=g/2*.5522848,P=A/2*.5522848,u=S+g,v=d+A,k=S+g/2,T=d+A/2;r.moveTo(S,T),r.bezierCurveTo(S,T-P,k-b,d,k,d),r.bezierCurveTo(k+b,d,u,T-P,u,T),r.bezierCurveTo(u,T+P,k+b,v,k,v),r.bezierCurveTo(k-b,v,S,T+P,S,T),r.closePath(),y&&(r.globalAlpha=n.fillAlpha*t,r.fillStyle=p,r.fill()),c&&(r.globalAlpha=n.lineAlpha*t,r.strokeStyle=f,r.stroke())}}},l.prototype.renderPolygon=function(l,e,t,i){t.moveTo(l[0],l[1]);for(var a=1;a<l.length/2;++a)t.lineTo(l[2*a],l[2*a+1]);(e||i)&&t.closePath()},l}();e.default=a});