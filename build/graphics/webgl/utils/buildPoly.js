define("graphics/webgl/utils/buildPoly",["./buildLine","earcut"],function(l,e,i){"use strict";e.__esModule=!0;var t=l("./buildLine"),n=l("earcut");e.default=function(l,e){l.points=l.shape.points.slice();var i=l.points;if(l.hasFill()&&l.fillAlpha&&i.length>=6){for(var s=[],h=l.holes,u=0;u<h.length;u++){var a=h[u];s.push(i.length/2),i=i.concat(a.points)}var p=e.points,r=e.indices,o=i.length/2,f=f.hexTorgb(l.fillStyle),c=l.fillAlpha,d=f[0]*c,g=f[1]*c,v=f[2]*c,b=n.default(i,s,2);if(!b)return;var A=p.length/6;for(u=0;u<b.length;u+=3)r.push(b[u]+A),r.push(b[u]+A),r.push(b[u+1]+A),r.push(b[u+2]+A),r.push(b[u+2]+A);for(u=0;u<o;u++)p.push(i[2*u],i[2*u+1],d,g,v,c)}l.hasLine()&&l.lineAlpha&&t.default(l,e)}});