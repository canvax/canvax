define("shape/Polygon",["../display/Shape","../utils/index","mmvis","../geom/Math"],function(t,o,e){"use strict";var i,n=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])},function(t,o){function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});o.__esModule=!0;var s=t("../display/Shape"),r=t("../utils/index"),l=t("mmvis"),p=t("../geom/Math"),a=function(t){function o(o){var e=l._.extend({lineType:null,smooth:!1,pointList:[],smoothFilter:r.default.__emptyFunc},o.context);if(!o.isClone){e.pointList[0];var i=e.pointList.slice(-1)[0];e.smooth&&(e.pointList.unshift(i),e.pointList=p.default.getSmoothPointList(e.pointList))}return o.context=e,o.type="polygon",t.call(this,o)||this}return n(o,t),o.prototype.watch=function(t,o,e){"pointList"!=t&&"smooth"!=t&&"lineType"!=t||this.graphics.clear()},o.prototype.draw=function(t){var o=this.context,e=o.pointList;if(!(e.length<2)){t.moveTo(e[0][0],e[0][1]);for(var i=1,n=e.length;i<n;i++)t.lineTo(e[i][0],e[i][1]);if(t.closePath(),"dashed"==o.lineType||"dotted"==o.lineType)if(t.currentPath.line=!1,o.smooth)for(var s=0,r=e.length;s<r&&s!=r-1;s++)t.moveTo(e[s][0],e[s][1]),t.lineTo(e[s+1][0],e[s+1][1]),s+=1;else{t.moveTo(e[0][0],e[0][1]);for(i=1,n=e.length;i<n;i++){var l=e[i-1][0],p=e[i][0],a=e[i-1][1],h=e[i][1];this.dashedLineTo(t,l,a,p,h,5)}}t.closePath()}},o}(s.default);o.default=a});