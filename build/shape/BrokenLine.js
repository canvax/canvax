define("shape/BrokenLine",["../display/Shape","../utils/index","mmvis","../geom/Math"],function(t,i,o){"use strict";var e,n=this&&this.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])},function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)});i.__esModule=!0;var s=t("../display/Shape"),h=t("../utils/index"),l=t("mmvis"),p=t("../geom/Math"),r=function(t){function i(i){var o=this;i=h.default.checkOpt(i);var e=l._.extend({lineType:null,smooth:!1,pointList:[],smoothFilter:h.default.__emptyFunc},i.context);return!i.isClone&&e.smooth&&(e.pointList=p.default.getSmoothPointList(e.pointList,e.smoothFilter)),i.context=e,i.type="brokenline",(o=t.call(this,i)||this)._pointList=e.pointList,o}return n(i,t),i.prototype.watch=function(t,i,o){"pointList"!=t&&"smooth"!=t&&"lineType"!=t||("pointList"==t&&this.context.smooth&&(this.context.pointList=p.default.getSmoothPointList(i,this.context.smoothFilter),this._pointList=i),"smooth"==t&&(this.context.pointList=i?p.default.getSmoothPointList(this._pointList,this.context.smoothFilter):this._pointList),this.graphics.clear())},i.prototype.draw=function(t){for(var i=this.context,o=i.pointList,e=!1,n=0,s=o.length;n<s;n++){var h=o[n],l=o[n+1];if(p.default.isValibPoint(h)){if(i.lineType&&"solid"!=i.lineType){if("dashed"==i.lineType||"dotted"==i.lineType)if(i.smooth){if(e){t.lineTo(h[0],h[1]),e=!1,n++;continue}t.moveTo(h[0],h[1])}else p.default.isValibPoint(l)&&this.dashedLineTo(t,h[0],h[1],l[0],l[1],5)}else e?t.lineTo(h[0],h[1]):t.moveTo(h[0],h[1]);e=!0}else e=!1}return this},i}(s.default);i.default=r});