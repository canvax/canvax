define("renderers/webgl/WebGLRenderer",["../SystemRenderer","../../const","./WebGLStageRenderer","mmvis"],function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});t.__esModule=!0;var i=e("../SystemRenderer"),a=e("../../const"),s=e("./WebGLStageRenderer"),c=e("mmvis"),d=function(e){function t(t,r){return void 0===r&&(r={}),e.call(this,a.RENDERER_TYPE.CANVAS,t,r)||this}return o(t,e),t.prototype.render=function(e,t){void 0===t&&(t={});var r=this;r.app=e,c._.extend(this.options,t),c._.each(c._.values(e.convertStages),function(e){r.renderStage(e.stage)}),e.convertStages={}},t.prototype.renderStage=function(e){e.webGLStageRenderer||(e.webGLStageRenderer=new s.default(e,app,this.options)),e.stageRending=!0,this._clear(e),this._render(e),e.stageRending=!1},t.prototype._render=function(e,t){if(t||(t=e),t.graphics){if(!t.context.$model.visible||t.context.$model.globalAlpha<=0)return;t.graphics.graphicsData.length||t._draw(t.graphics),e.webGLStageRenderer.render(t,e)}if(t.children)for(var r=0,n=t.children.length;r<n;r++)this._render(e,t.children[r])},t.prototype._clear=function(e){e.webGLStageRenderer.clear()},t}(i.default);t.default=d});